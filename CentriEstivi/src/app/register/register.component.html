<div class="container py-5">
  <div class="row">
    <div class="col-md-12">

      <div class="row">
        <div class="col-md-6 mx-auto">
          <span class="anchor" id="formLogin"></span>

          <div class="card rounded-0">
            <div class="card-header">
              <h3 class="mb-0">Registrazione</h3>
            </div>

            <div class="card-body" id="registerForm">

              <form class="form" name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>

                <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !firstName.valid }">
                  <label for="firstName">Nome</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="firstName"
                         [(ngModel)]="model.firstName" #firstName="ngModel"
                         required />
                  <div *ngIf="f.submitted && !firstName.valid" class="help-block">Il nome è richiesto!</div>
                </div>

                <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !lastName.valid }">
                  <label for="lastName">Cognome</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="lastName"
                         [(ngModel)]="model.lastName" #lastName="ngModel"
                         required />
                  <div *ngIf="f.submitted && !lastName.valid" class="help-block">Il cognome è richiesto!</div>
                </div>

               
                <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !eMail.valid }">
                  <label for="eMail">eMail</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="eMail"
                         [(ngModel)]="model.eMail" #eMail="ngModel" ngControl="eMail"
                         pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,6})+$"
                         required />
                  <!--<div *ngIf="f.submitted && !eMail.valid" class="help-block">L'email è richiesta!</div>-->
                  <!--<div class="help-block" [hidden]="email.valid || email.untouched">
      <div class="help-block" *ngIf="email.errors && email.errors.required">
        Email is required
      </div>-->
                  <div class="help-block" *ngIf="f.submitted && eMail.errors">
                    Email is invalid
                  </div>
                  <!--</div>-->
                </div>

                <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
                  <label for="password">Password</label>
                  <input type="password" class="form-control form-control-lg rounded-0" name="password"
                         [(ngModel)]="model.password" #password="ngModel" minlength="6"
                         required />
                  <!--<div *ngIf="f.submitted && !password.valid" class="help-block">La password è richiesta!</div>-->
                  <div *ngIf="f.submitted && (password.hasError('minlength') || !password.valid)" class="help-block">
                    <span>La password deve contenere almeno 6 caratteri!</span>
                  </div>  
                </div>

                <div class="form-group">
                  <label for="address">Indirizzo (via)</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="address"
                         [(ngModel)]="model.address" #address="ngModel" />
                </div>

                <div class="form-group">
                  <label for="house_number">Numero della via</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="house_number"
                         [(ngModel)]="model.house_number" #house_number="ngModel" />
                </div>

                <div class="form-group">
                  <label for="cap">CAP</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="cap"
                         [(ngModel)]="model.cap" #cap="ngModel" />
                </div>

                <div class="form-group">
                  <label for="city">Città</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="city"
                         [(ngModel)]="model.city" #city="ngModel" />
                </div>

                <div class="form-group">
                  <label for="fiscal_code">Codice Fiscale</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="fiscal_code" minlength="17" maxlength="17"
                         [(ngModel)]="model.fiscal_code" #fiscal_code="ngModel" />
                  <div *ngIf="f.submitted && (fiscal_code.hasError('minlength') || fiscal_code.hasError('maxlength'))" class="help-block">
                    <span>Il codice fiscale deve avere 17 caratteri!</span>
                  </div> 
                </div>

                <div class="form-group">
                  <label for="tel_number">Numero di telefono</label>
                  <input type="text" class="form-control form-control-lg rounded-0" name="tel_number"
                         [(ngModel)]="model.tel_number" #tel_number="ngModel" />
                </div>


                <div class="form-group">
                  <button [disabled]="loading" class="btn btn-primary">Conferma</button>
                  <img *ngIf="loading"
                       src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                  <a [routerLink]="['/login']" class="btn btn-link">Cancella</a>
                </div>

              </form>
            </div>

          </div>

        </div>

      </div>

    </div>

  </div>

</div>
